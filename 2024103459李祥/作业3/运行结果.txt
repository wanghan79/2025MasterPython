============================================================
Python修饰器统计功能 - 运行结果
============================================================

测试时间: 2024年
测试环境: Python 3.x
测试目的: 演示带参数修饰器对嵌套数据的统计分析功能

============================================================
修饰器初始化信息
============================================================
统计修饰器初始化，将计算: SUM, AVG
统计修饰器初始化，将计算: SUM, AVG, VAR, RMSE
统计修饰器初始化，将计算: VAR, RMSE

============================================================
测试1: 简单数值数据统计
============================================================

调用原函数: demo_partial_stats
开始生成 10 个样本...
数据结构: {'type': 'int', 'min': 1, 'max': 100}
生成进度: 1/10
生成进度: 2/10
生成进度: 3/10
生成进度: 4/10
生成进度: 5/10
生成进度: 6/10
生成进度: 7/10
生成进度: 8/10
生成进度: 9/10
生成进度: 10/10
样本生成完成!
提取到 10 个数值型数据

==================================================
数值型数据统计结果
==================================================
求和 (SUM):     370.0000
均值 (AVG):     37.0000
==================================================

生成的样本: [42, 13, 42, 51, 31, 52, 11, 84, 6, 38]
数值个数: 10

============================================================
测试2: 嵌套数据类型统计
============================================================

调用原函数: demo_full_stats
开始生成 3 个样本...
数据结构: 包含scores列表、age和name的字典结构
生成进度: 1/3
生成进度: 2/3
生成进度: 3/3
样本生成完成!
提取到 15 个数值型数据

==================================================
数值型数据统计结果
==================================================
求和 (SUM):     1040.9098
均值 (AVG):     69.3940
方差 (VAR):     687.6996
均方根差 (RMSE): 26.2240
==================================================

数值个数: 15

============================================================
测试3: 复杂嵌套数据类型统计
============================================================

调用原函数: demo_variance_stats
开始生成 2 个样本...
数据结构: 包含measurements元组和metadata字典的复杂列表结构
生成进度: 1/2
生成进度: 2/2
样本生成完成!
提取到 30 个数值型数据

==================================================
数值型数据统计结果
==================================================
方差 (VAR):     596.2853
均方根差 (RMSE): 24.4190
==================================================

数值个数: 30

============================================================
修饰器演示完成！
============================================================

功能说明:
1. 支持类修饰器和函数修饰器两种形式
2. 可以选择性计算SUM、AVG、VAR、RMSE统计项
3. 自动递归提取嵌套数据结构中的所有数值
4. 返回原始样本数据和统计结果

============================================================
技术特点总结
============================================================

1. 智能数据识别:
   - 自动识别int和float类型数据
   - 忽略字符串、布尔值等非数值类型
   - 支持任意深度的嵌套结构遍历

2. 灵活的参数配置:
   - 支持统计项的任意组合
   - 参数大小写不敏感
   - 提供清晰的错误提示

3. 双重实现方式:
   - 类修饰器：面向对象设计，功能丰富
   - 函数修饰器：函数式设计，使用简洁

4. 结果增强设计:
   - 保留原始样本数据
   - 提供详细统计结果
   - 显示数值数据个数

============================================================
